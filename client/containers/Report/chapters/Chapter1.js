import React from "react"
import { connect } from "react-redux"

import { fetchChapter } from "../../../actions/chapterActions"
import NextChapter from "../../../utils/NextChapter"
import numberFormatter from "../../../utils/numberFormatter"
import BreadCrumbs from "../../../components/Breadcrumbs"
import HeadlineDivider from "../../../components/HeadlineDivider"
import LineChart from "../../../components/charts/LineChart"
import { Tabs, TabPanel } from "../../../components/Tabs"
import SideNavigation from "../../../components/Report/SideNavigation"
import StackedBarChart from "../../../components/charts/StackedBarChart"
import WorldMap from "../../../components/charts/WorldMap"

function makeArray(n) {
  var arr = []
  for (var i = 0; i < n; i++) {
    arr.push(i)
  }
  return arr
}

class StaffCompositionChart extends React.Component {
  render() {
    return (
      <div>
        <h4 className="title strong">{this.props.title}</h4>

        <svg width="100%" height="560px" viewBox="0 0 960 560">
          <g stroke="none" strokeWidth="1" fill="none" fill-rule="evenodd">

            <text fontFamily="Roboto-Regular, Roboto" fontSize="34" fontWeight="normal" fill="#786A65">
              <tspan x="187" y="509">16,000,000</tspan>
            </text>
            <text fontFamily="Roboto-Regular, Roboto" fontSize="13" fontWeight="normal" letterSpacing="1" fill="#786A65">
              {this.props.translations.volunteers.split("\n").map((item, i) => {
                return (
                  <tspan x="270" y={455 + (i * 16)} key={i} className="caps" textAnchor="middle">{item}</tspan>
                )
              })}
            </text>
            <rect fill="#EE3224" x="10" y="423" width="520" height="4"></rect>

            {this.props.volunteers.verticals.map((vertical, i) => {
              return (
                <g fill="#D6D2D0" key={i} transform={`translate(0, ${7 + i * 36})`}>
                  {this.props.volunteers.humans.map((human, j) => {
                    return (
                      <g key={j} transform={`translate(${6 + (17 * j)},0)`}><path d="M7.05802469,10.962963 C5.40617284,10.962963 4.00987654,12.445679 4.00987654,14.1864198 L4.00987654,22.2469136 C4.00987654,22.4209877 4.07530864,22.5679012 4.19012346,22.691358 L5.24444444,23.7407407 L5.25815564,31.370753 C5.25815564,31.7176666 5.53469885,31.988037 5.87543959,31.988037 L12.0482791,31.988037 C12.3902544,31.988037 12.6655631,31.7176666 12.6655631,31.370753 L12.6518519,23.7407407 L13.7049383,22.691358 C13.8209877,22.5679012 13.8864198,22.4209877 13.8864198,22.2469136 L13.8864198,14.1864198 C13.8864198,12.445679 12.491358,10.962963 10.8382716,10.962963 L7.05802469,10.962963 Z M8.94814815,10.5185185 C10.9901235,10.5185185 12.6518519,8.86419753 12.6518519,6.81481481 C12.6518519,4.77777778 10.9901235,3.11111111 8.94814815,3.11111111 C6.90617284,3.11111111 5.24444444,4.77777778 5.24444444,6.81481481 C5.24444444,8.86419753 6.90617284,10.5185185 8.94814815,10.5185185 Z"></path></g>
                    )
                  })}
                </g>
              )
            })}

            <text fontFamily="Roboto-Regular, Roboto" fontSize="34" fontWeight="normal" fill="#786A65">
              <tspan x="608" y="509">451,952</tspan>
            </text>
            <text fontFamily="Roboto-Regular, Roboto" fontSize="13" fontWeight="normal" letterSpacing="0" fill="#786A65">
              {this.props.translations.paidStaff.split("\n").map((item, i) => {
                return (
                  <tspan x="668" y={455 + (i * 16)} key={i} className="caps" textAnchor="middle">{item}</tspan>
                )
              })}
            </text>
            <rect fill="#EE3224" x="630" y="423" width="78" height="4"></rect>
            <g fill="#D6D2D0">
              <path d="M684.058025,161.962963 C682.406173,161.962963 681.009877,163.445679 681.009877,165.18642 L681.009877,173.246914 C681.009877,173.420988 681.075309,173.567901 681.190123,173.691358 L682.244444,174.740741 L682.258156,182.370753 C682.258156,182.717667 682.534699,182.988037 682.87544,182.988037 L689.048279,182.988037 C689.390254,182.988037 689.665563,182.717667 689.665563,182.370753 L689.651852,174.740741 L690.704938,173.691358 C690.820988,173.567901 690.88642,173.420988 690.88642,173.246914 L690.88642,165.18642 C690.88642,163.445679 689.491358,161.962963 687.838272,161.962963 L684.058025,161.962963 Z M685.948148,161.518519 C687.990123,161.518519 689.651852,159.864198 689.651852,157.814815 C689.651852,155.777778 687.990123,154.111111 685.948148,154.111111 C683.906173,154.111111 682.244444,155.777778 682.244444,157.814815 C682.244444,159.864198 683.906173,161.518519 685.948148,161.518519 Z"></path>
              <path d="M667.058025,161.962963 C665.406173,161.962963 664.009877,163.445679 664.009877,165.18642 L664.009877,173.246914 C664.009877,173.420988 664.075309,173.567901 664.190123,173.691358 L665.244444,174.740741 L665.258156,182.370753 C665.258156,182.717667 665.534699,182.988037 665.87544,182.988037 L672.048279,182.988037 C672.390254,182.988037 672.665563,182.717667 672.665563,182.370753 L672.651852,174.740741 L673.704938,173.691358 C673.820988,173.567901 673.88642,173.420988 673.88642,173.246914 L673.88642,165.18642 C673.88642,163.445679 672.491358,161.962963 670.838272,161.962963 L667.058025,161.962963 Z M668.948148,161.518519 C670.990123,161.518519 672.651852,159.864198 672.651852,157.814815 C672.651852,155.777778 670.990123,154.111111 668.948148,154.111111 C666.906173,154.111111 665.244444,155.777778 665.244444,157.814815 C665.244444,159.864198 666.906173,161.518519 668.948148,161.518519 Z"></path>
              <path d="M701.058025,161.962963 C699.406173,161.962963 698.009877,163.445679 698.009877,165.18642 L698.009877,173.246914 C698.009877,173.420988 698.075309,173.567901 698.190123,173.691358 L699.244444,174.740741 L699.258156,182.370753 C699.258156,182.717667 699.534699,182.988037 699.87544,182.988037 L706.048279,182.988037 C706.390254,182.988037 706.665563,182.717667 706.665563,182.370753 L706.651852,174.740741 L707.704938,173.691358 C707.820988,173.567901 707.88642,173.420988 707.88642,173.246914 L707.88642,165.18642 C707.88642,163.445679 706.491358,161.962963 704.838272,161.962963 L701.058025,161.962963 Z M702.948148,161.518519 C704.990123,161.518519 706.651852,159.864198 706.651852,157.814815 C706.651852,155.777778 704.990123,154.111111 702.948148,154.111111 C700.906173,154.111111 699.244444,155.777778 699.244444,157.814815 C699.244444,159.864198 700.906173,161.518519 702.948148,161.518519 Z"></path>
              <path d="M633.058025,161.962963 C631.406173,161.962963 630.009877,163.445679 630.009877,165.18642 L630.009877,173.246914 C630.009877,173.420988 630.075309,173.567901 630.190123,173.691358 L631.244444,174.740741 L631.258156,182.370753 C631.258156,182.717667 631.534699,182.988037 631.87544,182.988037 L638.048279,182.988037 C638.390254,182.988037 638.665563,182.717667 638.665563,182.370753 L638.651852,174.740741 L639.704938,173.691358 C639.820988,173.567901 639.88642,173.420988 639.88642,173.246914 L639.88642,165.18642 C639.88642,163.445679 638.491358,161.962963 636.838272,161.962963 L633.058025,161.962963 Z M634.948148,161.518519 C636.990123,161.518519 638.651852,159.864198 638.651852,157.814815 C638.651852,155.777778 636.990123,154.111111 634.948148,154.111111 C632.906173,154.111111 631.244444,155.777778 631.244444,157.814815 C631.244444,159.864198 632.906173,161.518519 634.948148,161.518519 Z"></path>
              <path d="M650.058025,161.962963 C648.406173,161.962963 647.009877,163.445679 647.009877,165.18642 L647.009877,173.246914 C647.009877,173.420988 647.075309,173.567901 647.190123,173.691358 L648.244444,174.740741 L648.258156,182.370753 C648.258156,182.717667 648.534699,182.988037 648.87544,182.988037 L655.048279,182.988037 C655.390254,182.988037 655.665563,182.717667 655.665563,182.370753 L655.651852,174.740741 L656.704938,173.691358 C656.820988,173.567901 656.88642,173.420988 656.88642,173.246914 L656.88642,165.18642 C656.88642,163.445679 655.491358,161.962963 653.838272,161.962963 L650.058025,161.962963 Z M651.948148,161.518519 C653.990123,161.518519 655.651852,159.864198 655.651852,157.814815 C655.651852,155.777778 653.990123,154.111111 651.948148,154.111111 C649.906173,154.111111 648.244444,155.777778 648.244444,157.814815 C648.244444,159.864198 649.906173,161.518519 651.948148,161.518519 Z"></path>
              <path d="M650.058025,197.962963 C648.406173,197.962963 647.009877,199.445679 647.009877,201.18642 L647.009877,209.246914 C647.009877,209.420988 647.075309,209.567901 647.190123,209.691358 L648.244444,210.740741 L648.258156,218.370753 C648.258156,218.717667 648.534699,218.988037 648.87544,218.988037 L655.048279,218.988037 C655.390254,218.988037 655.665563,218.717667 655.665563,218.370753 L655.651852,210.740741 L656.704938,209.691358 C656.820988,209.567901 656.88642,209.420988 656.88642,209.246914 L656.88642,201.18642 C656.88642,199.445679 655.491358,197.962963 653.838272,197.962963 L650.058025,197.962963 Z M651.948148,197.518519 C653.990123,197.518519 655.651852,195.864198 655.651852,193.814815 C655.651852,191.777778 653.990123,190.111111 651.948148,190.111111 C649.906173,190.111111 648.244444,191.777778 648.244444,193.814815 C648.244444,195.864198 649.906173,197.518519 651.948148,197.518519 Z"></path>
              <path d="M667.058025,197.962963 C665.406173,197.962963 664.009877,199.445679 664.009877,201.18642 L664.009877,209.246914 C664.009877,209.420988 664.075309,209.567901 664.190123,209.691358 L665.244444,210.740741 L665.258156,218.370753 C665.258156,218.717667 665.534699,218.988037 665.87544,218.988037 L672.048279,218.988037 C672.390254,218.988037 672.665563,218.717667 672.665563,218.370753 L672.651852,210.740741 L673.704938,209.691358 C673.820988,209.567901 673.88642,209.420988 673.88642,209.246914 L673.88642,201.18642 C673.88642,199.445679 672.491358,197.962963 670.838272,197.962963 L667.058025,197.962963 Z M668.948148,197.518519 C670.990123,197.518519 672.651852,195.864198 672.651852,193.814815 C672.651852,191.777778 670.990123,190.111111 668.948148,190.111111 C666.906173,190.111111 665.244444,191.777778 665.244444,193.814815 C665.244444,195.864198 666.906173,197.518519 668.948148,197.518519 Z"></path>
              <path d="M633.058025,197.962963 C631.406173,197.962963 630.009877,199.445679 630.009877,201.18642 L630.009877,209.246914 C630.009877,209.420988 630.075309,209.567901 630.190123,209.691358 L631.244444,210.740741 L631.258156,218.370753 C631.258156,218.717667 631.534699,218.988037 631.87544,218.988037 L638.048279,218.988037 C638.390254,218.988037 638.665563,218.717667 638.665563,218.370753 L638.651852,210.740741 L639.704938,209.691358 C639.820988,209.567901 639.88642,209.420988 639.88642,209.246914 L639.88642,201.18642 C639.88642,199.445679 638.491358,197.962963 636.838272,197.962963 L633.058025,197.962963 Z M634.948148,197.518519 C636.990123,197.518519 638.651852,195.864198 638.651852,193.814815 C638.651852,191.777778 636.990123,190.111111 634.948148,190.111111 C632.906173,190.111111 631.244444,191.777778 631.244444,193.814815 C631.244444,195.864198 632.906173,197.518519 634.948148,197.518519 Z"></path>
              <path d="M701.058025,197.962963 C699.406173,197.962963 698.009877,199.445679 698.009877,201.18642 L698.009877,209.246914 C698.009877,209.420988 698.075309,209.567901 698.190123,209.691358 L699.244444,210.740741 L699.258156,218.370753 C699.258156,218.717667 699.534699,218.988037 699.87544,218.988037 L706.048279,218.988037 C706.390254,218.988037 706.665563,218.717667 706.665563,218.370753 L706.651852,210.740741 L707.704938,209.691358 C707.820988,209.567901 707.88642,209.420988 707.88642,209.246914 L707.88642,201.18642 C707.88642,199.445679 706.491358,197.962963 704.838272,197.962963 L701.058025,197.962963 Z M702.948148,197.518519 C704.990123,197.518519 706.651852,195.864198 706.651852,193.814815 C706.651852,191.777778 704.990123,190.111111 702.948148,190.111111 C700.906173,190.111111 699.244444,191.777778 699.244444,193.814815 C699.244444,195.864198 700.906173,197.518519 702.948148,197.518519 Z"></path>
              <path d="M684.058025,197.962963 C682.406173,197.962963 681.009877,199.445679 681.009877,201.18642 L681.009877,209.246914 C681.009877,209.420988 681.075309,209.567901 681.190123,209.691358 L682.244444,210.740741 L682.258156,218.370753 C682.258156,218.717667 682.534699,218.988037 682.87544,218.988037 L689.048279,218.988037 C689.390254,218.988037 689.665563,218.717667 689.665563,218.370753 L689.651852,210.740741 L690.704938,209.691358 C690.820988,209.567901 690.88642,209.420988 690.88642,209.246914 L690.88642,201.18642 C690.88642,199.445679 689.491358,197.962963 687.838272,197.962963 L684.058025,197.962963 Z M685.948148,197.518519 C687.990123,197.518519 689.651852,195.864198 689.651852,193.814815 C689.651852,191.777778 687.990123,190.111111 685.948148,190.111111 C683.906173,190.111111 682.244444,191.777778 682.244444,193.814815 C682.244444,195.864198 683.906173,197.518519 685.948148,197.518519 Z"></path>
            </g>

            <text fontFamily="Roboto-Regular, Roboto" fontSize="34" fontWeight="normal" fill="#786A65">
              <tspan x="800" y="509">2,920</tspan>
            </text>
            <text fontFamily="Roboto-Regular, Roboto" fontSize="13" fontWeight="normal" letterSpacing="0" fill="#786A65">
              {this.props.translations.secretariatStaff.split("\n").map((item, i) => {
                return (
                  <tspan x="842" y={455 + (i * 16)} key={i} className="caps" textAnchor="middle">{item}</tspan>
                )
              })}
            </text>
            <rect fill="#EE3224" x="828" y="423" width="27" height="4"></rect>
            <g fill="#D6D2D0">
              <path d="M831.058025,178.962963 C829.406173,178.962963 828.009877,180.445679 828.009877,182.18642 L828.009877,190.246914 C828.009877,190.420988 828.075309,190.567901 828.190123,190.691358 L829.244444,191.740741 L829.258156,199.370753 C829.258156,199.717667 829.534699,199.988037 829.87544,199.988037 L836.048279,199.988037 C836.390254,199.988037 836.665563,199.717667 836.665563,199.370753 L836.651852,191.740741 L837.704938,190.691358 C837.820988,190.567901 837.88642,190.420988 837.88642,190.246914 L837.88642,182.18642 C837.88642,180.445679 836.491358,178.962963 834.838272,178.962963 L831.058025,178.962963 Z M832.948148,178.518519 C834.990123,178.518519 836.651852,176.864198 836.651852,174.814815 C836.651852,172.777778 834.990123,171.111111 832.948148,171.111111 C830.906173,171.111111 829.244444,172.777778 829.244444,174.814815 C829.244444,176.864198 830.906173,178.518519 832.948148,178.518519 Z"></path>
              <path d="M848.058025,178.962963 C846.406173,178.962963 845.009877,180.445679 845.009877,182.18642 L845.009877,190.246914 C845.009877,190.420988 845.075309,190.567901 845.190123,190.691358 L846.244444,191.740741 L846.258156,199.370753 C846.258156,199.717667 846.534699,199.988037 846.87544,199.988037 L853.048279,199.988037 C853.390254,199.988037 853.665563,199.717667 853.665563,199.370753 L853.651852,191.740741 L854.704938,190.691358 C854.820988,190.567901 854.88642,190.420988 854.88642,190.246914 L854.88642,182.18642 C854.88642,180.445679 853.491358,178.962963 851.838272,178.962963 L848.058025,178.962963 Z M849.948148,178.518519 C851.990123,178.518519 853.651852,176.864198 853.651852,174.814815 C853.651852,172.777778 851.990123,171.111111 849.948148,171.111111 C847.906173,171.111111 846.244444,172.777778 846.244444,174.814815 C846.244444,176.864198 847.906173,178.518519 849.948148,178.518519 Z"></path>
            </g>
          </g>
        </svg>
      </div>
    )
  }
}

StaffCompositionChart.defaultProps = {
  volunteers: {
    verticals: makeArray(11),
    humans: makeArray(31)
  }
}

class StaffGenderDistributionChart extends React.Component {
  render() {
    return (
      <div>
        <svg width="100%" height="274px" viewBox="0 0 600 274">
            <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd" fontFamily="Roboto-Regular, Roboto">
                <text fontSize="13" fontWeight="normal" letterSpacing="1" fill="#786A65">
                    <tspan x="36.7964313" y="72">{this.props.translations.male}</tspan>
                </text>
                <text fontSize="13" fontWeight="normal" letterSpacing="1" fill="#786A65">
                    <tspan x="508.509322" y="72">{this.props.translations.female}</tspan>
                </text>
                <path d="M48.1925926,122.851852 C41.5851852,122.851852 36,128.782716 36,135.745679 L36,167.987654 C36,168.683951 36.2617284,169.271605 36.7209877,169.765432 L40.9382716,173.962963 L40.9931164,204.483012 C40.9931164,205.870666 42.0992892,206.952148 43.4622522,206.952148 L68.1536102,206.952148 C69.5215115,206.952148 70.622746,205.870666 70.622746,204.483012 L70.5679012,173.962963 L74.7802469,169.765432 C75.2444444,169.271605 75.5061728,168.683951 75.5061728,167.987654 L75.5061728,135.745679 C75.5061728,128.782716 69.9259259,122.851852 63.3135802,122.851852 L48.1925926,122.851852 Z M55.7530864,121.074074 C63.9209877,121.074074 70.5679012,114.45679 70.5679012,106.259259 C70.5679012,98.1111111 63.9209877,91.4444444 55.7530864,91.4444444 C47.5851852,91.4444444 40.9382716,98.1111111 40.9382716,106.259259 C40.9382716,114.45679 47.5851852,121.074074 55.7530864,121.074074 Z" fill="#D6D2D0"></path>
                <path d="M560.577577,183.569083 L556.216494,158.2925 L556.216494,136.024917 C556.216494,129.185833 550.355827,123.1875 543.674077,123.1875 L528.619244,123.1875 C522.143994,123.1875 516.88316,128.944917 516.88316,136.024917 L516.88316,158.046667 L511.38141,184.154167 C511.224077,184.891667 511.41091,185.629167 511.877994,186.219167 C512.345077,186.764917 513.04816,187.104167 513.790577,187.104167 L521.799827,187.104167 L521.799827,204.3125 C521.799827,205.694083 522.90116,206.770833 524.25816,206.770833 L548.841494,206.770833 C550.20341,206.770833 551.299827,205.694083 551.299827,204.3125 L551.299827,187.104167 L558.266744,187.104167 L558.320827,187.104167 C559.692577,187.153333 560.82341,186.027417 560.82341,184.645833 C560.82341,184.257417 560.739827,183.908333 560.577577,183.569083 Z M536.141744,121.4175 C544.278827,121.4175 550.891744,114.829167 550.891744,106.6675 C550.891744,98.555 544.278827,91.9175 536.141744,91.9175 C528.009577,91.9175 521.391744,98.555 521.391744,106.6675 C521.391744,114.829167 528.009577,121.4175 536.141744,121.4175 Z" fill="#D6D2D0"></path>

                <g transform="translate(143.960494, 90)">
                  <text x="150" y="0" fontSize="13" fontWeight="normal" fill="#786A65" textAnchor="middle">{this.props.translations.nationalSocietyStaff}</text>
                  <rect fill="#786A65" x="62" y="9" width="80" height="10"></rect>
                  <rect fill="#EE3224" x="162" y="9" width="119" height="10"></rect>
                  <text fontSize="20" fontWeight="normal" fill="#786A65">
                    <tspan x="289" y="21">59.7%</tspan>
                  </text>
                  <text fontSize="20" fontWeight="normal" fill="#786A65">
                    <tspan x="0.396484375" y="21">40.3%</tspan>
                  </text>
                </g>

                <g transform="translate(120.960494, 140)">
                  <text x="170" y="0" fontSize="13" fontWeight="normal" fill="#786A65" textAnchor="middle">{this.props.translations.nationalSocietyVolunteers}</text>
                  <rect fill="#786A65" x="185" y="9" width="96" height="10"></rect>
                  <rect fill="#EE3224" x="62" y="9" width="103" height="10"></rect>
                  <text fontSize="20" fontWeight="normal" fill="#786A65">
                    <tspan x="289" y="21">48.3%</tspan>
                  </text>
                  <text fontSize="20" fontWeight="normal" fill="#786A65">
                    <tspan x="0.396484375" y="21">51.7%</tspan>
                  </text>
                </g>

                <g transform="translate(99.960494, 190)">
                  <text x="190" y="0" fontSize="13" fontWeight="normal" fill="#786A65" textAnchor="middle">{this.props.translations.IFRCSecretariatStaff}</text>
                  <rect fill="#EE3224" x="62" y="9" width="124" height="10"></rect>
                  <rect fill="#786A65" x="206" y="9" width="76" height="10"></rect>
                  <text fontSize="20" fontWeight="normal" fill="#786A65">
                    <tspan x="290" y="21">38.1%</tspan>
                  </text>
                  <text fontSize="20" fontWeight="normal" fill="#786A65">
                    <tspan x="0.40625" y="21">61.9%</tspan>
                  </text>
                </g>
            </g>
        </svg>
      </div>
    )
  }
}

class Chapter1 extends React.Component {
  constructor(props) {
    super(props)
  }
  componentDidMount() {
    console.log("Mounted Who we are")
  }
  shouldComponentUpdate(newProps, newState, newContext) {
    var newDataAvailable = newProps.content[newContext.language].chapters["who-we-are"] !== undefined
    var sameData = this.props.content[this.context.language].chapters["who-we-are"] === newProps.content[newContext.language].chapters["who-we-are"]
    return newDataAvailable && !sameData
  }
  bubbleCallback(response) {
    var officeReference = {}

    officeReference["regionalOffice"] = {radius: 10, key: "regionalOffice"}
    officeReference["countryClusterOffice"] = {radius: 6, key: "countryClusterOffice"}
    officeReference["countryOffice"] = {radius: 4, key: "countryOffice"}
    officeReference["subCountryOffice"] = {radius: 4, key: "others"}
    officeReference["liaisonOffice"] = {radius: 4, key: "others"}
    officeReference["EbolaTreatmentCentre"] = {radius: 4, key: "others"}
    officeReference["globalLogisticsService"] = {radius: 4, key: "others"}

    var headquarters = response.map((item, i) => {
      return {
        name: `${item.type || "} ${item.region || "}\n${item.city || "}${item.country ? ", " + item.country : "}`,
        latitude: item.latitude,
        longitude: item.longitude,
        radius: officeReference[item.typeKey].radius,
        fillKey: officeReference[item.typeKey].key
      }
    })

    return headquarters
  }
  bubblePopupTemplate(geo, data, a) {
    console.log("sliced: ", data.name.split("\n"))
    var sliced = data.name.split("\n")
    return `
      <div class="map-tooltip">
        <strong>${sliced[0][0].toUpperCase() + sliced[0].slice(1)}</strong>
        <hr />
        <div class="pt1">
          <span class="small">${sliced[1]}</span>
        </div>
      </div>
    `
  }
  render() {

    var chapter = this.props.content[this.context.language].chapters["who-we-are"]
    var section1 = chapter.sections[0]
    var section2 = chapter.sections[1]

    return (
      <div>
        <div className="clearfix bg-primary-dark">
          <div className="col px1 sm-px0 sm-8 sm-offset-2 md-6 md-offset-3 lg-5 lg-offset-3 py1">
            <BreadCrumbs chapter={chapter} language={this.context.language}/>
          </div>
        </div>

        <div className="clearfix bg-primary pt1">
          <div className="col px1 sm-px0 sm-8 sm-offset-2 md-6 md-offset-3 lg-5 lg-offset-3">
            <h2 className="display-2">{chapter.title}</h2>
          </div>
        </div>

        <div className="clearfix bg-dark chapter-banner" style={{backgroundImage:"url(/img/chapters/chapter-1.jpg)",backgroundSize: "cover",backgroundPosition:"center 20%",backgroundRepeat: "no-repeat"}}>
          <div className="col px1 sm-px0 sm-8 sm-offset-2 md-6 md-offset-3 lg-5 lg-offset-3">
            <p className="lead">{chapter.intro}</p>
            <hr />
          </div>
        </div>

       {/* <div className="clearfix bg-secondary body-text py2">
          <div className="col sm-2 sm-offset-2 center">
            <p className="display-2 color-primary">80M</p>
            <p className="caps">Members</p>
          </div>
          <div className="col sm-2 sm-offset-1 center">
            <p className="display-2 color-primary">451,952</p>
            <p className="caps">Paid staff</p>
          </div>
          <div className="col sm-2 sm-offset-1 center">
            <p className="display-2 color-primary">16M</p>
            <p className="caps">Volunteers</p>
          </div>
        </div>*/}

        <div className="clearfix body-text" style={{position:"relative"}}>

          <SideNavigation title={chapter.title} sections={chapter.sections} sectionReferences={["scroll-target-section1","scroll-target-section2"]}/>

          { /* <div className="sm-3 px1 py2" style={{position:"absolute",top:0,left:0}}>
            <h4 className="title strong">{chapter.title}</h4>
            <ul>
              {chapter.sections.map((item, i) => {
                return <li key={i}>{item.title}</li>
              })}
            </ul>
          </div> */ }

          <div className="clearfix" id="scroll-target-section1">
            <div className="col px1 sm-px0 sm-8 sm-offset-2 md-6 md-offset-3 lg-5 lg-offset-3 py2">
              <p className="small strong color-primary caps">{chapter.title}</p>
              <h3 className="headline">{section1.title}</h3>
              <HeadlineDivider />
            </div>
          </div>

          <div className="clearfix">
            <div className="col px1 sm-px0 sm-8 sm-offset-2 md-6 md-offset-3 lg-5 lg-offset-3">
              <p>{section1.blocks[0]}</p>
            </div>
          </div>

          <div className="clearfix">
            <div className="col px1 sm-px0 sm-8 sm-offset-2 md-6 md-offset-3 lg-5 lg-offset-3">
              <ul>
                {section1.blocks[1].map((item, i) => {
                  return <li key={i}>{item}</li>
                })}
              </ul>
            </div>
          </div>

          <div className="clearfix">
            <div className="col px1 sm-px0 sm-8 sm-offset-2 md-6 md-offset-3 lg-5 lg-offset-3 py2">
              <LineChart
                title={section1.blocks[2].title}
                caption={section1.blocks[2].caption}
                height={240}
                padding={{
                  top: 30,
                  bottom: 40,
                  left: 60,
                  right: 60
                }}
                domain={{
                  x: [new Date(1865,1,1), new Date(2020,1,1)],
                  y: [0,200]
                }}
                axisLabels={{
                  x: section1.blocks[2].axisLabels.x,
                  y: section1.blocks[2].axisLabels.y
                }}
                labels={section1.blocks[2].labels}
                dataset={[section1.blocks[2].dataset.map((item, i) => {
                  return {
                    x: new Date(item.year, 1, 1),
                    y: item.members
                  }
                })]}
              />
            </div>
          </div>

          <div className="clearfix">
            <div className="col px1 sm-px0 sm-8 sm-offset-2 md-6 md-offset-3 lg-5 lg-offset-3">
              <p>{section1.blocks[3]}</p>
              <p>{section1.blocks[4]}</p>
              <p>{section1.blocks[5]}</p>
            </div>
          </div>

          <div className="clearfix">
            <div className="col px1 sm-px0 sm-10 sm-offset-1 md-7 md-offset-3 lg-7 lg-offset-2 py2">
              <WorldMap
                title={section1.blocks[6].title}
                caption={section1.blocks[6].caption}
                bubbleSource={section1.blocks[6].dataset}
                bubbleCallback={this.bubbleCallback}
                bubblePopupTemplate={this.bubblePopupTemplate}
                />
            </div>
          </div>

          <div className="clearfix" id="scroll-target-section2">
            <div className="col px1 sm-px0 sm-8 sm-offset-2 md-6 md-offset-3 lg-5 lg-offset-3 py2">
              <p className="small strong color-primary caps">{chapter.title}</p>
              <h3 className="headline">{section2.title}</h3>

              <HeadlineDivider />
              <p>{section2.blocks[0]}</p>
            </div>
          </div>

          <div className="clearfix">
            <div className="col px1 sm-px0 sm-10 sm-offset-1 md-7 md-offset-3 lg-7 lg-offset-2 pt2">
              <StaffCompositionChart title={section2.blocks[1].title} translations={section2.blocks[1].translations}/>
            </div>

            <div className="col px1 sm-px0 sm-8 sm-offset-2 md-6 md-offset-3 lg-5 lg-offset-3 pb2">
              <hr />
              <StaffGenderDistributionChart translations={section2.blocks[1].translations}/>
              <p className="small" translations={section2.blocks[1].translations}>{section2.blocks[1].caption}</p>
            </div>

            <div className="col px1 sm-px0 sm-8 sm-offset-2 md-6 md-offset-3 lg-5 lg-offset-3">
              <p>{section2.blocks[2]}</p>
            </div>
          </div>

          <div className="clearfix">
            <div className="col px1 xs-6 sm-px0 sm-4 sm-offset-2 md-4 md-offset-3 lg-3 lg-offset-3 sm-pr1">
              <p>{section2.blocks[3]}</p>
            </div>
            <div className="col px1 xs-6 sm-px0 sm-4 md-4 lg-3">
              <h4 className="title strong mb0">{section2.blocks[4].title}</h4>
              <svg width="100%" height="360px" viewBox="0 0 360 360">
                <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">
                  <g fontFamily="Roboto-Bold, Roboto">

                    <path d="M224.358336,83.2002487 C223.722933,83.2002487 223.132916,83.2002487 222.516424,83.1624271 L222.516424,79.4218696 C223.136698,79.4218696 223.730497,79.4596913 224.362118,79.4596913 C230.701021,79.4596913 241.42723,78.6654374 245.209391,76.2032504 L245.209391,79.3046226 C245.209391,80.7078045 236.998319,83.2002487 224.358336,83.2002487 Z M197.932376,86.9824099 C185.311304,86.9824099 177.777238,84.4899657 177.130489,83.2418525 L177.130489,81.3507719 C182.338525,82.7501715 189.176672,83.2002487 194.150214,83.2002487 L196.041295,83.2002487 L196.041295,83.2418525 C204.369614,83.2418525 214.12759,82.3719554 218.749391,79.5353345 L218.756955,83.0527444 C218.091295,84.4899657 210.561012,86.9824099 197.932376,86.9824099 Z M211.192633,90.6170669 C210.526973,92.0542882 202.99669,94.5467324 190.368053,94.5467324 C177.746981,94.5467324 170.212916,92.0542882 169.566166,90.806175 L169.566166,87.3265866 C174.80446,89.5542796 184.921741,90.7267496 193.567762,90.7267496 C193.75687,90.7267496 192.259134,90.7267496 192.259134,90.7267496 L192.259134,90.688928 C196.041295,90.7683533 195.82193,90.7683533 196.998182,90.7683533 C200.840858,90.7683533 206.264477,90.4998199 210.719863,89.705566 L211.192633,90.6170669 Z M173.348328,82.1412436 L173.348328,83.2418525 C173.348328,83.8053945 173.533654,84.3386792 173.805969,84.826578 C171.767384,84.3008576 170.311252,83.8053945 169.74771,83.4271784 C170.258302,83.0867839 171.370257,82.5988851 173.348328,82.1412436 Z M165.784005,61.1124271 C170.95422,63.5708319 180.254554,64.3310463 186.551852,64.3310463 C192.886973,64.3310463 202.251604,63.5367925 207.402907,61.0746055 L207.410472,64.0625129 C207.338611,64.1381561 207.270532,64.2516209 207.217581,64.3650858 C206.026201,65.7644854 198.677461,68.0753859 186.585892,68.0753859 C173.96482,68.0753859 166.430755,65.5791595 165.784005,64.3310463 L165.784005,61.1124271 Z M186.551852,52.9845626 C199.176707,52.9845626 206.70699,55.4770069 207.380214,56.6116552 C206.70699,58.014837 199.176707,60.5488851 186.551852,60.5488851 C174.085849,60.5488851 166.612298,58.0866981 165.784005,56.9520497 L165.784005,56.8423671 C166.612298,55.4013636 174.085849,52.9845626 186.551852,52.9845626 Z M224.373465,10 C236.998319,10 244.528602,12.4924443 245.201827,13.6270926 C244.528602,15.0302744 236.998319,17.5643225 224.373465,17.5643225 C211.907461,17.5643225 204.433911,15.1021355 203.605617,13.9674871 L203.605617,13.8578045 C204.433911,12.416801 211.907461,10 224.373465,10 Z M221.434726,75.5981046 C221.415815,73.9717753 220.77663,72.5723756 218.734262,71.4377273 L218.734262,68.0337822 L218.692659,68.0337822 C218.692659,67.9959605 218.67753,67.9581389 218.673748,67.9240995 C220.818233,68.0337822 222.853036,68.1132075 224.365901,68.1132075 C230.701021,68.1132075 241.42723,67.3189537 245.209391,64.8567667 L245.209391,71.5890137 C245.209391,71.6646569 245.19048,71.7062607 245.19048,71.7403002 C244.521038,73.143482 236.994537,75.67753 224.369683,75.67753 C223.738062,75.67753 223.136698,75.6359262 222.516424,75.6359262 L222.516424,75.5981046 L221.434726,75.5981046 Z M209.687333,67.2017067 C210.950575,67.3529931 212.523954,67.5042796 214.241055,67.6177444 C214.589014,67.8446741 214.812161,68.0337822 214.887804,68.0337822 C213.930918,69.4710034 206.457367,71.853765 194.116175,71.853765 C193.068516,71.853765 192.115412,71.7781218 191.135832,71.7403002 C198.106355,71.362084 206.37416,70.117753 209.687333,67.2017067 Z M210.950575,55.6661149 C215.451346,56.4603688 220.477839,56.7667238 224.369683,56.7667238 C230.701021,56.7667238 241.42723,55.97247 245.209391,53.510283 L245.209391,60.2803516 C245.209391,60.3181732 245.19048,60.359777 245.19048,60.3938165 C244.521038,61.7969983 236.994537,64.3310463 224.369683,64.3310463 C221.067856,64.3310463 215.012616,63.949048 211.16994,63.5708319 L211.16994,56.6872985 L211.124554,56.6872985 C211.11699,56.3469039 211.064039,56.0065094 210.950575,55.6661149 Z M224.369683,45.4202401 C230.701021,45.4202401 241.42723,44.6259863 245.209391,42.1637993 L245.209391,48.9338679 C245.209391,48.9716895 245.194262,49.0132933 245.194262,49.0473328 C244.52482,50.4505146 236.994537,52.9845626 224.373465,52.9845626 C211.843165,52.9845626 204.346921,50.484554 203.605617,49.2364408 L203.605617,42.2016209 C208.775832,44.6600257 218.072384,45.4202401 224.369683,45.4202401 Z M245.209391,37.6252058 C245.209391,37.6668096 245.198045,37.6668096 245.198045,37.7008491 C244.528602,39.1040309 236.998319,41.6380789 224.373465,41.6380789 C211.843165,41.6380789 204.346921,39.1380703 203.605617,37.8899571 L203.605617,30.8551372 C208.775832,33.313542 218.076166,34.0737564 224.373465,34.0737564 C230.704803,34.0737564 241.42723,33.2795026 245.209391,30.8173156 L245.209391,37.6252058 Z M245.209391,26.1706604 C245.209391,26.2122642 245.198045,26.2122642 245.198045,26.2463036 C244.528602,27.6494854 236.998319,30.1835334 224.373465,30.1835334 C211.843165,30.1835334 204.346921,27.6835249 203.605617,26.4354117 L203.605617,19.4005918 C208.775832,21.8589966 218.076166,22.619211 224.373465,22.619211 C230.704803,22.619211 241.42723,21.8249571 245.209391,19.3627702 L245.209391,26.1706604 Z M271.464374,44.3636364 C284.089228,44.3636364 291.619511,46.8560806 292.292736,47.990729 C291.619511,49.3939108 284.089228,51.9279588 271.464374,51.9279588 C258.99837,51.9279588 251.52482,49.4657719 250.696527,48.3311235 L250.696527,48.2214408 C251.52482,46.7804374 258.99837,44.3636364 271.464374,44.3636364 Z M271.460592,79.7838765 C277.79193,79.7838765 288.518139,78.9896226 292.3003,76.5274357 L292.3003,83.2975043 C292.3003,83.3353259 292.285172,83.3769297 292.285172,83.4109691 C291.615729,84.8141509 284.085446,87.348199 271.464374,87.348199 C258.934074,87.348199 251.43783,84.8481904 250.696527,83.6000772 L250.696527,76.5652573 C255.866741,79.0236621 265.163293,79.7838765 271.460592,79.7838765 Z M292.3003,71.9888422 C292.3003,72.030446 292.288954,72.030446 292.288954,72.0644854 C291.619511,73.4676672 284.089228,76.0017153 271.464374,76.0017153 C258.934074,76.0017153 251.43783,73.5017067 250.696527,72.2535935 L250.696527,65.2187736 C255.866741,67.6771784 265.167075,68.4373928 271.464374,68.4373928 C277.795712,68.4373928 288.518139,67.6431389 292.3003,65.180952 L292.3003,71.9888422 Z M292.3003,60.5342967 C292.3003,60.5759005 292.288954,60.5759005 292.288954,60.60994 C291.619511,62.0131218 284.089228,64.5471698 271.464374,64.5471698 C258.934074,64.5471698 251.43783,62.0471612 250.696527,60.799048 L250.696527,53.7642281 C255.866741,56.2226329 265.167075,56.9828473 271.464374,56.9828473 C277.795712,56.9828473 288.518139,56.1885935 292.3003,53.7264065 L292.3003,60.5342967 Z M173.348328,73.1056604 C178.518542,75.5981046 187.818877,75.6359262 194.116175,75.6359262 C200.451295,75.6359262 209.815926,74.8832762 214.96723,72.4210892 L214.974794,75.4846398 C214.309134,76.9256432 206.778851,79.4218696 194.150214,79.4218696 C181.529142,79.4218696 173.995077,76.9256432 173.348328,75.67753 L173.348328,73.1056604 Z" fill="#F1F0EF"></path>

                    <text fontSize="16" fontWeight="bold" fill="#786A65">
                      <tspan x="10" y="71.3532504">{section2.blocks[4].translations.nationalSocieties}</tspan>
                    </text>
                    <g transform="translate(10, 99.353250)">
                      <text fontSize="34" fontWeight="normal" fill="#786A65">
                        <tspan x="223" y="32">30.8Bn</tspan>
                      </text>
                      <text fontSize="13" fontWeight="bold" letterSpacing="1" fill="#EE3224">
                        <tspan x="0" y="14">{section2.blocks[4].translations.income}</tspan>
                      </text>
                      <text opacity="0.5" fontSize="16" fontWeight="bold" fill="#786A65">
                        <tspan x="188" y="32">CHF</tspan>
                      </text>
                      <text fontSize="34" fontWeight="normal" fill="#786A65">
                        <tspan x="213" y="80">30.4Bn</tspan>
                      </text>
                      <text fontSize="13" fontWeight="bold" letterSpacing="1" fill="#EE3224">
                        <tspan x="0" y="63">{section2.blocks[4].translations.expenses}</tspan>
                      </text>
                      <text opacity="0.5" fontSize="16" fontWeight="bold" fill="#786A65">
                        <tspan x="178" y="80">CHF</tspan>
                      </text>
                      <rect fill="#786A65" x="0" y="21" width="180" height="10"></rect>
                      <rect fill="#786A65" opacity="0.6" x="0" y="70" width="170" height="10"></rect>
                    </g>
                    <text fontSize="16" fontWeight="bold" fill="#786A65">
                      <tspan x="10" y="224.35325">{section2.blocks[4].translations.ifrcSecretariat}</tspan>
                    </text>
                    <g transform="translate(10, 252.353250)">
                      <text fontSize="34" fontWeight="normal" fill="#786A65">
                        <tspan x="183" y="32">345.5M</tspan>
                      </text>
                      <text fontSize="13" fontWeight="bold" letterSpacing="1" fill="#EE3224">
                        <tspan x="0" y="14">{section2.blocks[4].translations.income}</tspan>
                      </text>
                      <text opacity="0.5" fontSize="16" fontWeight="bold" fill="#786A65">
                        <tspan x="148" y="32">CHF</tspan>
                      </text>
                      <text fontSize="34" fontWeight="normal" fill="#786A65">
                        <tspan x="195" y="80">365.3M</tspan>
                      </text>
                      <text fontSize="13" fontWeight="bold" letterSpacing="1" fill="#EE3224">
                        <tspan x="0" y="63">{section2.blocks[4].translations.expenses}</tspan>
                      </text>
                      <text opacity="0.5" fontSize="16" fontWeight="bold" fill="#786A65">
                        <tspan x="160" y="80">CHF</tspan>
                      </text>
                      <rect fill="#786A65" x="0" y="21" width="140" height="10"></rect>
                      <rect fill="#786A65" opacity="0.6" x="0" y="70" width="152" height="10"></rect>
                    </g>
                  </g>
                </g>
              </svg>
            </div>

            </div>

          <div className="col px1 sm-px0 sm-8 sm-offset-2 md-6 md-offset-3 lg-5 lg-offset-3">
            <p>{section2.blocks[5]}</p>

            <h4 className="title strong">{section2.blocks[6].title}</h4>

            <Tabs activeTab={0}>
              <TabPanel title={section2.blocks[6].tabs[0].name}>
                <div>
                  <StackedBarChart
                    caption={section2.blocks[6].tabs[0].caption}
                    height={360}
                    width={480}
                    padding={{
                      top: 60,
                      bottom: 30,
                      left: 30,
                      right: 100
                    }}
                    labels={
                      section2.blocks[6].tabs[0].dataset.map((item, i) => {
                        // return `${item.name} — ${numberFormatter.addCommas(item.first + item.second + item.rest)}`
                        return { text: item.name, number: numberFormatter.addCommas(Math.round(item.first + item.second + item.rest)) }
                      })
                    }
                    data={[
                      section2.blocks[6].tabs[0].dataset.map((item, i) => {
                        return { x: item.index, y: item.first, name: item.names[0] }
                      }),
                      section2.blocks[6].tabs[0].dataset.map((item, i) => {
                        return { x: item.index, y: item.second, name: item.names[1] }
                      }),
                      section2.blocks[6].tabs[0].dataset.map((item, i) => {
                        return { x: item.index, y: item.rest }
                      })
                    ]}
                    />
                  </div>
              </TabPanel>
              <TabPanel title={section2.blocks[6].tabs[1].name}>
                <div>
                  <StackedBarChart
                    caption={section2.blocks[6].tabs[1].caption}
                    height={360}
                    width={480}
                    padding={{
                      top: 60,
                      bottom: 30,
                      left: 30,
                      right: 100
                    }}
                    labels={
                      section2.blocks[6].tabs[1].dataset.map((item, i) => {
                        // return `${item.name} (${numberFormatter.addCommas(item.first + item.second + item.rest)})`
                        return { text: item.name, number: numberFormatter.addCommas(Math.round(item.first + item.second + item.rest)) }
                      })
                    }
                    data={[
                      section2.blocks[6].tabs[1].dataset.map((item, i) => {
                        return { x: item.index, y: item.first, name: item.names[0] }
                      }),
                      section2.blocks[6].tabs[1].dataset.map((item, i) => {
                        return { x: item.index, y: item.second, name: item.names[1] }
                      }),
                      section2.blocks[6].tabs[1].dataset.map((item, i) => {
                        return { x: item.index, y: item.rest }
                      })
                    ]}
                    />
                  </div>
              </TabPanel>
              <TabPanel title={section2.blocks[6].tabs[2].name}>
                <div>
                  <StackedBarChart
                    caption={section2.blocks[6].tabs[2].caption}
                    height={360}
                    width={480}
                    padding={{
                      top: 60,
                      bottom: 30,
                      left: 30,
                      right: 100
                    }}
                    labels={
                      section2.blocks[6].tabs[2].dataset.map((item, i) => {
                        // return `${item.name} (${numberFormatter.addCommas(item.first + item.second + item.rest)})`
                        return { text: item.name, number: numberFormatter.addCommas(Math.round(item.first + item.second + item.rest)) }
                      })
                    }
                    data={[
                      section2.blocks[6].tabs[2].dataset.map((item, i) => {
                        return { x: item.index, y: item.first, name: item.names[0] }
                      }),
                      section2.blocks[6].tabs[2].dataset.map((item, i) => {
                        return { x: item.index, y: item.second, name: item.names[1] }
                      }),
                      section2.blocks[6].tabs[2].dataset.map((item, i) => {
                        return { x: item.index, y: item.rest }
                      })
                    ]}
                    />
                  </div>
              </TabPanel>
            </Tabs>

            <p>{section2.blocks[7]}</p>

            <h4 className="title strong">{section2.blocks[8].title}</h4>

            <Tabs activeTab={0}>
              <TabPanel title={section2.blocks[8].tabs[0].name}>
                <div>
                  <StackedBarChart
                    caption={section2.blocks[8].caption}
                    height={360}
                    width={480}
                    padding={{
                      top: 60,
                      bottom: 30,
                      left: 30,
                      right: 120
                    }}
                    labels={
                      section2.blocks[8].tabs[0].dataset.map((item, i) => {
                        // return `${item.name} (${numberFormatter.addCommas(Math.round(item.first + item.second + item.rest))})`
                        return { text: item.name, number: numberFormatter.addCommas(Math.round(item.first + item.second + item.rest)) }
                      })
                    }
                    data={[
                      section2.blocks[8].tabs[0].dataset.map((item, i) => {
                        return { x: item.index, y: item.first, name: item.names[0] }
                      }),
                      section2.blocks[8].tabs[0].dataset.map((item, i) => {
                        return { x: item.index, y: item.second, name: item.names[1] }
                      }),
                      section2.blocks[8].tabs[0].dataset.map((item, i) => {
                        return { x: item.index, y: item.rest }
                      })
                    ]}
                    />
                  </div>
              </TabPanel>
              <TabPanel title={section2.blocks[8].tabs[1].name}>
                <div>
                  <StackedBarChart
                    caption={section2.blocks[8].caption}
                    height={360}
                    width={480}
                    padding={{
                      top: 60,
                      bottom: 30,
                      left: 30,
                      right: 120
                    }}
                    labels={
                      section2.blocks[8].tabs[1].dataset.map((item, i) => {
                        // return `${item.name} (${numberFormatter.addCommas(Math.round(item.first + item.second + item.rest))})`
                        return { text: item.name, number: numberFormatter.addCommas(Math.round(item.first + item.second + item.rest)) }
                      })
                    }
                    data={[
                      section2.blocks[8].tabs[1].dataset.map((item, i) => {
                        return { x: item.index, y: item.first, name: item.names[0] }
                      }),
                      section2.blocks[8].tabs[1].dataset.map((item, i) => {
                        return { x: item.index, y: item.second, name: item.names[1] }
                      }),
                      section2.blocks[8].tabs[1].dataset.map((item, i) => {
                        return { x: item.index, y: item.rest }
                      })
                    ]}
                    />
                  </div>
              </TabPanel>
            </Tabs>

            <p>{section2.blocks[9]}</p>
            <p>{section2.blocks[10]}</p>

            <h4 className="title strong">{section2.blocks[11].title}</h4>


            <Tabs activeTab={0}>
              <TabPanel title={section2.blocks[11].tabs[0].name}>
                <table>
                  <thead>
                    <tr className="small">
                      {section2.blocks[11].tabs[0].headers.map((item, i) => {
                        return (<th key={i}>{item}</th>)
                      })}
                    </tr>
                  </thead>
                  <tbody>
                    {section2.blocks[11].tabs[0].dataset.map((item, i) => {
                      return (
                        <tr key={i}>
                          <td>{item.rank}</td>
                          <td>{item.donor}</td>
                          <td>{item.total}</td>
                          <td>{item.percent}%</td>
                        </tr>
                      )
                    })}
                  </tbody>
                </table>
                <p className="small">{section2.blocks[11].tabs[0].caption}</p>
              </TabPanel>
              <TabPanel title={section2.blocks[11].tabs[1].name}>
                <table>
                  <thead>
                    <tr className="small">
                      {section2.blocks[11].tabs[1].headers.map((item, i) => {
                        return (<th key={i}>{item}</th>)
                      })}
                    </tr>
                  </thead>
                  <tbody>
                    {section2.blocks[11].tabs[1].dataset.map((item, i) => {
                      return (
                        <tr key={i}>
                          <td>{item.rank}</td>
                          <td>{item.nationalSociety}</td>
                          <td>{item.total}</td>
                          <td>{item.percent}%</td>
                        </tr>
                      )
                    })}
                  </tbody>
                </table>
                <p className="small">{section2.blocks[11].tabs[1].caption}</p>
              </TabPanel>
            </Tabs>

          </div>
        </div>

        <NextChapter nextChapter={chapter.nextChapter} />
      </div>
    )
  }
}

Chapter1.needs = [ fetchChapter ]

Chapter1.contextTypes = {
  language: React.PropTypes.string
}

function mapStateToProps(state) {
  return {
    // language: state.appReducer.language,
    content: {
      en: state.chapterReducer.en,
      fr: state.chapterReducer.fr,
      es: state.chapterReducer.es,
      ar: state.chapterReducer.ar
    }
  }
}

// function mapDispatchToProps(dispatch) {
//   return {
//     changeDataset: (id) => {
//       dispatch(changeDataset(id))
//     }
//   }
// }

export default connect(mapStateToProps)(Chapter1)
